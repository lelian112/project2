<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
 <mapper namespace="com.gamja_farm.mapper.UsersMapper">
 
    <!-- 회원가입 -->
    <insert id="insertUser" parameterType="UsersDTO">
        <![CDATA[
            INSERT INTO user (id, pw, name)
            VALUES (#{id}, #{pw}, #{name})
        ]]>
    </insert>
    
    <!-- <![CDATA[
        INSERT INTO user_visit (user_id)
        VALUES (#{id})
    ]]> -->

    <!--회원정보 가져오기 -->
    <select id="selectById" parameterType="string" resultType="UsersDTO">
        SELECT * FROM user
        WHERE id = #{id}
    </select>
    
    <!-- 회원 정보 수정 -->
    <update id="updateUser" parameterType="UsersDTO">
        UPDATE user
        SET pw=#{pw}, name=#{name}, phone=#{phone}
        WHERE id=#{id}   
    </update>
    
    <!-- 비밀번호 변경 -->
    <update id="updateByPass" parameterType="UsersDTO">
        UPDATE user SET pw=#{pw}
        WHERE id = #{id}
    </update>
    
    <!--회원탈퇴 -->
    <delete id="deleteUser" parameterType="java.lang.String">
		DELETE FROM user
		WHERE id=#{id}
	</delete>

 </mapper>   
 